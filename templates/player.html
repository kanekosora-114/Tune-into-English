<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Tune into English</title>
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}" />

  <!-- script.js „Åß„Ç¢„ÇØ„Çª„Çπ„Éà„Éº„ÇØ„É≥„ÇíÊãæ„Åà„Çã„Çà„ÅÜ„Å´Âüã„ÇÅËæº„Åø -->
  <script>const SPOTIFY_ACCESS_TOKEN = "{{ access_token }}";</script>

  <!-- „ÅÇ„Å™„Åü„ÅÆÊó¢Â≠òJSÔºàWeb Playback SDKÈÄ£Êê∫„Å™„Å©Ôºâ -->
  <script src="{{ url_for('static', filename='js/script.js') }}" defer></script>
  <script src="https://sdk.scdn.co/spotify-player.js" defer></script>
</head>
<body>

  <!-- ========================= „Éò„ÉÉ„ÉÄ„Éº ========================= -->
  <header id="sticky-header">
    <div class="app-title">Tune into English</div>

<!-- ÁΩÆ„ÅçÊèõ„ÅàÔºö„Éò„ÉÉ„ÉÄ„ÉºÂÜÖ„ÅÆÊ§úÁ¥¢„Éï„Ç©„Éº„É† -->
<form class="search-form" id="header-search" action="/search" method="GET">
  <input type="text" id="search-input" name="q" placeholder="Êõ≤Âêç „Åæ„Åü„ÅØ  Êõ≤Âêç / „Ç¢„Éº„ÉÜ„Ç£„Çπ„ÉàÂêç" />
  <button id="search-button" type="submit">Ê§úÁ¥¢</button>
</form>

    <div class="user-actions">
      {% if not access_token_present %}
        <p class="login-status"><a href="/login">„É≠„Ç∞„Ç§„É≥</a></p>
      {% else %}
        <p class="login-status logged-in">„É≠„Ç∞„Ç§„É≥Ê∏à„Åø: <a href="/logout">„É≠„Ç∞„Ç¢„Ç¶„Éà</a></p>
      {% endif %}
      <a href="/mypage" class="mypage-link">„Éû„Ç§„Éö„Éº„Ç∏</a>
    </div>
  </header>

  <!-- ========================= „É°„Ç§„É≥ ========================= -->
  <div class="container">

    <!-- üîç Ê§úÁ¥¢Ôºö„Çπ„ÉÜ„Éº„Çø„ÇπÔºÜÁµêÊûú -->
    <div id="search-status" class="search-status">„Ç≠„Éº„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ</div>
    <div class="search-results" id="search-results" aria-live="polite"></div>

    <div class="main-content-area">

      <!-- Â∑¶: „É°„Ç§„É≥„Éó„É¨„Ç§„É§„Éº -->
      <div class="left-panel" id="leftPanel">
        <div class="left-panel-content">

          <!-- „Ç∏„É£„Ç±„ÉÉ„Éà -->
          <div class="album-art-container" id="album-art-container">
            <img
              id="album-art"
              src="https://placehold.co/220x220/121212/ffffff?text=No+Album+Art"
              alt="„Ç¢„É´„Éê„É†„Ç¢„Éº„Éà"
            />
          </div>

          <!-- Êõ≤ÊÉÖÂ†± -->
          <div id="current-track-info">
            <div class="marquee-wrapper" id="song-title-wrapper">
              <div class="marquee-text" id="current-song-title">Êõ≤Âêç</div>
            </div>
            <div class="marquee-wrapper" id="artist-name-wrapper">
              <div class="marquee-text" id="current-artist-name">„Ç¢„Éº„ÉÜ„Ç£„Çπ„ÉàÂêç</div>
            </div>
          </div>

          <!-- ÂÜçÁîü„Ç≥„É≥„Éà„É≠„Éº„É´ -->
          <div class="player-controls-container">
            <button id="prevTrackButton" class="control-button" aria-label="Ââç„ÅÆÊõ≤">
              <img src="/static/images/prev.png" alt="Ââç„Å∏" />
            </button>
            <button id="togglePlayButton" class="play-button" aria-label="ÂÜçÁîü/‰∏ÄÊôÇÂÅúÊ≠¢">
              <img id="mainPlayPauseIcon" src="/static/images/play.png" alt="ÂÜçÁîü" />
            </button>
            <button id="nextTrackButton" class="control-button" aria-label="Ê¨°„ÅÆÊõ≤">
              <img src="/static/images/next.png" alt="Ê¨°„Å∏" />
            </button>
          </div>

        </div>
      </div>

      <!-- Âè≥: Ê≠åË©ûË°®Á§∫ -->
      <div class="right-panel">
        <div id="lyrics-section">
          <!-- Ê≠åË©û„ÅÆÁä∂ÊÖã„É°„ÉÉ„Çª„Éº„Ç∏Ôºàscript.js„Åå‰Ωø„ÅÜÔºâ -->
          <div id="lyrics-status" class="muted"></div>
          <div id="lyrics-content"></div>
        </div>
      </div>

    </div><!-- /.main-content-area -->

    <!-- ========================= „Éï„ÉÉ„Çø„Éº ========================= -->
    <footer id="global-player-footer">

      <!-- Â∑¶: „Ç∏„É£„Ç±„ÉÉ„ÉàÔºãÊõ≤ÊÉÖÂ†± -->
      <div class="footer-section footer-left">
        <button class="toggle-panel-button" id="toggleLeftPanelButton" aria-label="Â∑¶„Éë„Éç„É´„ÅÆË°®Á§∫ÂàáÊõø">
          <svg fill="currentColor" height="24" viewBox="0 0 24 24" width="24" aria-hidden="true">
            <path d="M14.06 5.94L8 12l6.06 6.06 1.06-1.06L10.18 12l4.94-4.94-1.06-1.06z"></path>
          </svg>
        </button>
        <div class="track-info-footer">
          <img
            id="footerAlbumArt"
            src="https://placehold.co/60x60/282828/ffffff?text=Art"
            alt="„Éï„ÉÉ„Çø„Éº„ÅÆ„Ç¢„É´„Éê„É†„Ç¢„Éº„Éà"
          />
          <div class="text-info">
            <div class="marquee-wrapper-footer" id="footer-song-title-wrapper">
              <div class="marquee-text" id="footerSongTitle">Êõ≤Âêç</div>
            </div>
            <div class="marquee-wrapper-footer" id="footer-artist-name-wrapper">
              <div class="marquee-text" id="footerArtistName">„Ç¢„Éº„ÉÜ„Ç£„Çπ„ÉàÂêç</div>
            </div>
          </div>
        </div>
      </div>

      <!-- ‰∏≠Â§Æ: ÂÜçÁîü„Ç≥„É≥„Éà„É≠„Éº„É´Ôºã„Ç∑„Éº„ÇØ -->
      <div class="footer-section footer-center">
        <div class="footer-controls">
          <button id="footerPrevTrackButton" class="control-button" aria-label="Ââç„ÅÆÊõ≤">
            <img src="/static/images/prev.png" alt="Ââç„Å∏" />
          </button>
          <button id="footerTogglePlayButton" class="play-button" aria-label="ÂÜçÁîü/‰∏ÄÊôÇÂÅúÊ≠¢">
            <img id="footerPlayPauseIcon" src="/static/images/play.png" alt="ÂÜçÁîü" />
          </button>
          <button id="footerNextTrackButton" class="control-button" aria-label="Ê¨°„ÅÆÊõ≤">
            <img src="/static/images/next.png" alt="Ê¨°„Å∏" />
          </button>
        </div>

        <!-- „Ç∑„Éº„ÇØ„Éê„Éº -->
        <div class="seekbar-container">
          <span id="currentTime">0:00</span>
          <input type="range" id="seekBar" min="0" max="100" value="0" />
          <span id="totalTime">0:00</span>
        </div>
      </div>

      <!-- Âè≥: Èü≥Èáè -->
      <div class="footer-section footer-right">
        <input type="range" id="volumeSlider" min="0" max="100" value="50" />
      </div>

    </footer>

  </div><!-- /.container -->

</body>
</html>
